<html>
  <body>
    <h1>legacy-web</h1>

    <section>
      <label>
        <input name="input" id="input" />
      </label>
  
      <button onclick="onClickSubmit()">submit</button>
    </section>

    <section>
      <pre>
        <code id="get-result"></code>
      </pre>

      <button onclick="onClickSendGet()">send GET request</button>
    </section>
  </body>

  <script>
    console.log("legacy-web");

    function onClickSubmit() {
      const input = document.querySelector("input");
      const value = input.value;

      const resultElement = document.createElement("div");
      const resultTextNode = document.createTextNode(value);
      resultElement.appendChild(resultTextNode);

      document.body.appendChild(resultElement);
      input.value = ""
    }

    async function onClickSendGet() {
      const res = await fetch(
        {
          method: "GET",
          url: "https://horiy-horizon.herokuapp.com/api/health_check"
        }
      )

      const json = await res.json()

      const code = document.querySelector("code")
      code.value = JSON.stringify(json)
    }
  </script>
</html>
